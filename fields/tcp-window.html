<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <title>TCP Window Size (Flow Control) | Network Packet Dictionary</title>
  <meta name="description" content="TCP window size explained: how flow control works, scaling, common values, Wireshark tips, and troubleshooting signals like Zero Window and Window Update." />
  <meta name="robots" content="index,follow" />

  <link rel="stylesheet" href="/assets/css/styles.css" />

  <style>
    .content pre.ws-filter{
      margin:0.4em 0 1em;
      padding:0.6em 0.8em;
      border-radius:8px;
      background:rgba(0,0,0,0.06);
      border:1px solid rgba(0,0,0,0.10);
      overflow-x:auto;
    }
    .content pre.ws-filter code{
      background:none;
      padding:0;
      border:none;
      font-size:0.95em;
      user-select:text;
      font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
    }
    .content h3{
      font-size:1.2em;
      font-weight:900;
      margin-top:1.6em;
      margin-bottom:0.45em;
    }
    .content ol{ margin:0.6em 0 1.2em; padding-left:1.4em; }
    .content ol li{ margin:0.4em 0; line-height:1.6; }
    .content ol li::marker{ font-weight:900; }
  </style>

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5493851170081090"
     crossorigin="anonymous"></script>
</head>

<body data-ads="on">
  <header class="header">
    <div class="header-inner">
      <a class="brand" href="/">
        <div class="logo"></div>
        <div><div class="brand-title">Network Packet Dictionary</div></div>
      </a>
      <nav class="nav" aria-label="Site">
        <a href="/dictionary.html">Dictionary</a>
        <a href="/fields.html">Fields</a>
        <a href="/topics.html">Topics</a>
        <a href="/tools.html">Tools</a>
        <a href="/about.html">About</a>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <section class="card">
      <div class="ad">Ad slot (fields-top)</div>

      <article class="content">
        <h1>TCP Window Size (Flow Control)</h1>

        <h2>What it is (Definition)</h2>
        <p>
          The <strong>TCP window</strong> is a flow-control signal sent by the receiver to the sender. It tells the sender
          how many bytes the receiver is currently willing to accept without additional acknowledgment. This is not congestion control
          (which is sender-side and network-driven). The TCP window is receiver-driven and protects the receiver’s buffers.
        </p>
        <p>
          In captures, the window is one of the best fields for diagnosing “the network is fine but throughput is bad.”
          A slow application that is not reading data can shrink the window. When the receiver cannot accept more data,
          it may advertise a <strong>Zero Window</strong>, temporarily stalling the sender.
        </p>

        <h2>Where it appears in the stack</h2>
        <p>
          The window is a <strong>TCP (Layer 4) field</strong>, present in every TCP segment. Modern TCP commonly negotiates
          a <strong>Window Scale option</strong> during handshake, which expands the effective window beyond the 16-bit field.
          This means the “window value” you see may need scaling to reflect the true advertised capacity.
        </p>

        <h2>How flow control works</h2>
        <ol>
          <li>Receiver tracks how much buffer space is available.</li>
          <li>Receiver advertises a window value in ACKs (and other segments).</li>
          <li>Sender limits in-flight unacknowledged data to the advertised window.</li>
          <li>If receiver becomes busy, it advertises a smaller window, slowing the sender.</li>
          <li>If the window reaches 0, sender pauses and probes until a Window Update appears.</li>
        </ol>
        <p>
          Importantly, window behavior is affected by the receiver’s application and system load. A server under memory pressure
          or an endpoint with a slow consumer can shrink the window even if the network path is perfect.
        </p>

        <h2>Common values and signals (Value table)</h2>
        <table>
          <thead>
            <tr>
              <th>Window signal</th>
              <th>Meaning</th>
              <th>What you observe</th>
              <th>Notes</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Large window</td>
              <td>Receiver can accept more data</td>
              <td>Good throughput potential</td>
              <td>May be scaled (Window Scale negotiated)</td>
            </tr>
            <tr>
              <td>Small window</td>
              <td>Receiver is limiting sender</td>
              <td>Throughput capped even without loss</td>
              <td>Often correlates with app or host bottlenecks</td>
            </tr>
            <tr>
              <td>Zero Window</td>
              <td>Receiver buffer full</td>
              <td>Sender pauses; “ZeroWindow” expert info</td>
              <td>Not congestion; it is receiver-side backpressure</td>
            </tr>
            <tr>
              <td>Window Update</td>
              <td>Receiver reopened buffer</td>
              <td>Flow resumes after stall</td>
              <td>Look for timing between zero window and update</td>
            </tr>
            <tr>
              <td>Window Scale option</td>
              <td>Expands window range</td>
              <td>Negotiated during SYN/SYN-ACK</td>
              <td>Without scaling, high-BDP paths are limited</td>
            </tr>
          </tbody>
        </table>

        <h2>How it looks in Wireshark</h2>
        <p><strong>Display filter example:</strong></p>
        <pre class="ws-filter"><code>tcp.window_size_value == 0</code></pre>

        <p><strong>What you typically see:</strong></p>
        <ul>
          <li>Advertised window values in TCP header details (and “calculated window size” in Wireshark).</li>
          <li>Zero Window and Window Update events in Expert Info.</li>
          <li>Window scaling negotiated during handshake (SYN options).</li>
        </ul>
        <p>
          <strong>Quick read tip:</strong> When a transfer stalls, check whether the receiver is advertising zero window.
          If yes, focus on the receiver host/app behavior, not packet loss.
        </p>

        <h2>Common troubleshooting patterns</h2>
        <h3>Zero Window stalls during downloads or API responses</h3>
        <p>
          If the receiver frequently advertises zero window, it is effectively telling the sender “stop, I’m full.”
          Common causes include slow application reads, CPU pressure, or constrained buffers. In captures, you’ll see the sender stop
          sending payload data and start window probes, waiting for a Window Update.
        </p>

        <h3>Low throughput on a high-latency path</h3>
        <p>
          High bandwidth-delay product paths require large windows. If window scaling is absent or limited, throughput can appear
          “mysteriously capped” even without loss. Confirm whether Window Scale was negotiated and whether the effective window is sufficient.
        </p>

        <h2>Related pages (internal links)</h2>
        <ul>
          <li><a href="/fields.html">Back to Fields Index</a></li>
          <li><a href="/dictionary/tcp.html">Dictionary: TCP overview</a></li>
          <li><a href="/topics.html">Topics Index</a> <span class="hint">(TCP zero window troubleshooting — Soon)</span></li>
          <li><a href="/dictionary.html">Dictionary Index</a></li>
        </ul>

        <!--
        Fields P0 checklist
        - Safe-scope CSS: YES
        - data-ads: on
        - 400–800 words: verify
        - Value table: YES
        - Links back to dictionary: YES (/dictionary/tcp.html)
        - AdSense script embedded here: NO
        -->
      </article>

      <div class="ad">Ad slot (fields-bottom)</div>
    </section>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      <div>
        <a href="/legal/privacy.html">Privacy</a>
        <a href="/legal/terms.html">Terms</a>
        <a href="/about.html">About</a>
        <a href="/contact.html">Contact</a>
      </div>
      <div class="copyright">© Network Packet Dictionary</div>
    </div>
  </footer>

  <script src="/assets/js/site.js"></script>
</body>
</html>
